<template>
  <report title="CUSTOMER DATASHEET" left-margin="15" top-margin="15" right-margin="15" />
  <header>
    <row height="10">
      <image file="icon24_ntura_white.png" link="http://www.nervatura.com"/>
      <cell name="label" value="={{labels.title}}" font-style="BI" font-size="26" color="14212058"/>
      <cell name="label" value="={{customer.0.custnumber}}" align="R" font-style="B" />
    </row>
    <hline border-color="14212058"/>
    <vgap height="2"/>
  </header>
  <details>
    <html>
      <b><i>Example report:</i></b>
      <ul style="margin:0px;">
        <li>relative layout (no x and y coordinates): row and datagrid elements</li>
        <li>XML template: easy to change, load from database or file</li>
        <li>page header, page footer and details</li>
        <li>icon reference, static and link text, data binding and page numbers</li>
        <li>html formatting and data binding:  <b>={{customer.0.custnumber}}</b></li>
        <li>graphic elements: image, separator, vertical lines and spacing</li>
        <li><b><i>cell</i></b> elements to display and formatting head data</li>
        <li><b><i>datagrid</i></b> element to display and formatting items data</li>
        <li>report outputs: pdf (specific location or a browser), HTML Preview, XML</li>
      </ul>
    </html>
    <vgap height="2"/>
    <hline border-color="14212058"/>
    <vgap height="2"/>
    <row hgap="2">
      <cell name="label" value="={{labels.custnumber}}" font-style="B" background-color="14212058"/>
      <cell name="custnumber" value="={{customer.0.custnumber}}" border="1" border-color="14212058"/>
      <cell name="label" value="={{labels.custname}}" font-style="B" background-color="14212058"/>
      <cell name="custname" value="={{customer.0.custname}}" border="1" border-color="14212058"/>
    </row>
    <vgap height="2"/>
    <row hgap="2">
      <cell name="label" value="={{labels.custtype}}" font-style="B" background-color="14212058"/>
      <cell name="custtype" value="={{customer.0.custtype}}" border="1" border-color="14212058"/>
      <cell name="label" value="={{labels.taxnumber}}" font-style="B" background-color="14212058"/>
      <cell name="taxnumber" value="={{customer.0.taxnumber}}" border="1" border-color="14212058"/>
    </row>
    <vgap height="2"/>
    <row hgap="2">
      <cell name="label" value="={{labels.notax}}" font-style="B" background-color="14212058"/>
      <cell name="notax" value="={{customer.0.notax}}" border="1" border-color="14212058"/>
      <cell name="label" value="={{labels.inactive}}" font-style="B" background-color="14212058"/>
      <cell name="inactive" value="={{customer.0.inactive}}" border="1" border-color="14212058"/>
      <cell name="label" value="={{labels.account}}" font-style="B" background-color="14212058"/>
      <cell name="account" value="={{customer.0.account}}" border="1" border-color="14212058"/>
    </row>
    <vgap height="2"/>
    <row hgap="2">
      <cell name="label" value="={{labels.terms}}" font-style="B" background-color="14212058"/>
      <cell name="terms" align="R" value="={{customer.0.terms}}" border="1" border-color="14212058"/>
      <cell name="label" value="={{labels.discount}}" font-style="B" background-color="14212058"/>
      <cell name="discount" align="R" value="={{customer.0.discount}}" border="1" border-color="14212058"/>
      <cell name="label" value="={{labels.creditlimit}}" font-style="B" background-color="14212058"/>
      <cell name="creditlimit" align="R" value="={{customer.0.creditlimit}}" border="1" border-color="14212058"/>
    </row>
    <vgap height="2"/>
    <row hgap="2">
      <cell name="label" value="={{labels.notes}}" font-style="B" background-color="14212058"/>
      <cell name="notes" multiline="true" value="={{customer.0.notes}}" border="1" border-color="14212058"/>
    </row>
    <vgap height="2"/>
    <hline border-color="14212058"/>
    <vgap height="2"/>
    <row>
      <cell name="label" value="={{labels.address}}" align="C" font-style="B" background-color="14212058"/>
    </row>
    <datagrid name="address" databind="address" border="1" border-color="14212058">
      <header background-color="14212058"/>
      <columns>
        <column width="6%" fieldname="counter" align="R" label="={{labels.counter}}"/>
        <column width="10%" fieldname="zipcode" label="={{labels.zipcode}}"/>
        <column width="20%" fieldname="city" label="={{labels.city}}"/>
        <column width="25%" fieldname="street" label="={{labels.street}}"/>
        <column width="40%" fieldname="notes" label="={{labels.notes}}"/>
      </columns>  
    </datagrid>
    <row>
      <cell name="label" value="={{labels.address_count}}" align="L" font-style="B" border="1" border-color="14212058" background-color="14212058"/>
      <cell name="foot_address_count" value="={{expr.addr_count}}" align="R" font-style="B" border="1" border-color="14212058"/>
    </row>
    <vgap height="5"/>
    <row>
      <cell name="label" value="={{labels.contact}}" align="C" font-style="B" background-color="14212058"/>
    </row>
    <datagrid name="contact" databind="contact" border="1" border-color="14212058">
      <header background-color="14212058"/>
      <columns>
        <column width="5%" fieldname="counter" align="R" label="={{labels.counter}}"/>
        <column width="12%" fieldname="firstname" label="={{labels.firstname}}"/>
        <column width="12%" fieldname="surname" label="={{labels.surname}}"/>
        <column width="6%" fieldname="status" label="={{labels.status}}"/>
        <column width="11%" fieldname="phone" label="={{labels.phone}}"/>
        <column width="11%" fieldname="fax" label="={{labels.fax}}"/>
        <column width="11%" fieldname="mobil" label="={{labels.mobil}}"/>
        <column width="20%" fieldname="email" label="={{labels.email}}"/>
        <column width="13%" fieldname="notes" label="={{labels.notes}}"/>
      </columns>  
    </datagrid>
    <row>
      <cell name="label" value="={{labels.contact_count}}" align="L" font-style="B" border="1" border-color="14212058" background-color="14212058"/>
      <cell name="foot_contact_count" value="={{expr.cont_count}}" align="R" font-style="B" border="1" border-color="14212058"/>
    </row>
  </details>
  <footer>
    <vgap height="2"/>
    <hline border-color="14212058"/>
    <row height="10">
      <cell value="Sample Report" link="http://code.google.com/p/pyfpdf/" font-style="BI" color="2162943"/>
      <cell value="{{pages}}/{{page}}" align="R" font-style="B"/>
    </row>
  </footer>
</template>
