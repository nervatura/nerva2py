{{extend 'nwc/layout.html'}}
<style>
#frm_head input[type="submit"] {
  padding-top: 2px !important;
}
</style>

<script>
  var ms_er_exists = "{{=T('The name already exists!')}}'"
  var ms_wn_chosen = "{{=T('You have chosen a template!')}}"
  var ms_wn_conf = "{{=T('Do you want to make the default template?')}}"
  var title_def = "{{=T('Default: ')}}"
  var ms_wn_save = "{{=T('Do you want to save the text as a template?')}}"
  var ms_err_new = "{{=T('Missing template name!')}}"
  var ms_wn_delete = "{{=T('Do you want to delete the template?')}}"
</script>

<div align="center" style="margin-top: 20px;"> 
{{=form.custom.begin}}
<div id="frm_head">
  <table width="100%" style="background-color: #2B2B2B;" cellpadding="0" cellspacing="0">
     <tr>
       <td style="padding-left: 5px;vertical-align: middle;">
         <img style="vertical-align: middle;"  height="16px" width="16px" src="{{=response.titleicon}}" />
         <span style="vertical-align: middle;color: #FFD700;font-weight: bold;">{{=response.title}}</span>
         <span style="vertical-align: middle;color: #FFFFFF;font-weight: bold;font-style: italic;font-size: large;padding-left: 5px;">
           {{=response.transnumber}}</span>
       </td>
       <td style="width: 120px;padding: 4px 20px 0px 0px;">
         {{=form.custom.submit}}
       </td>
       <td style="width:45px;padding: 4px 0px 0px 0px;">
         {{=response.cmd_help}}</td>
       <td style="width: 45px;padding: 4px 0px 0px 0px;">
         {{=response.cmd_back}}
       </td>
     </tr>
   </table>
  <table style="border-style: solid;border-width: 1px;border-color: #CCCCCC;border-top: none;" 
    width="100%" cellpadding="0" cellspacing="0">
    <tr>
      <td>
        <table width="100%" cellpadding="0" cellspacing="0">
          <tr>
            <td style="padding: 10px 5px 5px 10px;width: 100px;">
              <div class="label">{{=T('Templates')}}</div>
            </td>
	        <td style="padding: 10px 5px 5px 10px;">
	          {{=response.cmb_temp}}
	        </td>
	        <td style="padding: 0px;padding-top: 10px; padding-left:10px; vertical-align: middle;width: 180px;">
	          <a class="w2p_trap buttontext button" href="#" 
	            onclick="set_default_template();" 
	            style="padding: 2px 5px 2px 5px;" title="{{=T('Set default template')}}">
	            <span class="icon home"></span></a>
	          <a class="w2p_trap buttontext button" href="#" 
	            onclick="javascript:var ctmp=document.getElementById('cmb_temp');if(ctmp.value==''){alert('{{=T('You have chosen a template!')}}')} else {if(confirm('{{=T('Do you want to load the template text?')}}')){loadTemplate();}};return false;" 
	            style="padding: 2px 5px 2px 5px;" title="{{=T('Load the selected template"')}}">
	            <span class="icon loop"></span></a>
	          <a class="w2p_trap buttontext button" href="#" 
	            onclick="save_template();" 
	            style="padding: 2px 5px 2px 5px;" title="{{=T('Save the text as a template"')}}">
	            <span class="icon pen"></span></a>
	          <a class="w2p_trap buttontext button" href="#" 
	            onclick="javascript:var irow=document.getElementById('irow');if(irow.style.display == 'none'){irow.style.display = 'block';} else {irow.style.display = 'none';};return false;" 
	            style="padding: 2px 5px 2px 5px;" title="{{=T('Add a new template')}}">
	            <span class="icon plus"></span></a>
	          <a class="w2p_trap buttontext button" href="#" 
	            onclick="delete_template();" 
	            style="padding: 2px 5px 2px 5px;" title="{{=T('Delete the selected template"')}}">
	            <span class="icon trash"></span></a>
	        </td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
	  <td>
	    <div id="irow" style="display: none;padding: 10px 0px 8px 10px;border: solid;border-width: 7px;background-color: #808080; border-color: #CCCCCC;">
	    <span style="font-weight: bold;padding: 6px;padding-left: 10px;padding-right: 10px;background-color: #DBDBDB;color: green;">
	      {{=T('New template name:')}}</span>
	    <input style="width: 350px;" class="string" id="new_tempdesc" name="new_tempdesc" type="text" >
	    <a class="w2p_trap buttontext button" href="#" 
	            onclick="new_template();" 
	            style="padding: 2px 5px 2px 5px;" title="{{=T('Add a new template')}}">
	            <span class="icon plus"></span></a>
	    </div>
	  </td>
    </tr>
    <tr>
      <td style="padding: 10px;padding-top: 0px;">{{=form.custom.widget.fnote}}{{=response.trans_id}}
      </td>
    </tr>
  </table>
</div>
{{=form.custom.end}}
</div>
